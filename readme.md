# Телеграм-бот для анализа инвестиционной стратегии

Телеграм-бот, позволяющий проанализировать, какой из дней недели был наиболее выгоден для инвестирования за предшествующий введенной пользоваталем дате год для конкретной акции. Данные бот получает при помощи API Мосбиржи, поддерживается возможность сбора статистики для начала торгов и конца торгов.

## Принцип работы

При каждом запросе от пользователя бот получает 1) целевую дату, 2) код акции, 3) время торгов (OPEN - утро, открытие; CLOSE - вечер, закрытие). Бот обращается по API к данным Мосбиржи и скачивает данные на год, предшествовавший целевой дате. Далее, входные данные собираются воедино и передаются в Hadoop. В Hadoop запускается MapReduce, в котором Map делит входные данные по дням недели, затем Reduce'ы обрабатывают данные по каждому из дней недели, возвращая в итоге нужную статистику. Затем бот объединяет полученную статистику, выбирает наиболее выгодный день и выводит результат пользователю.

## Бот

Поддерживает одну команду - `/get_strategy <date(YYYY-MM-DD)> <MOEX code> <phase of day>`, пример полной команды: `/get_strategy 2016-05-03 YNDX OPEN`. При её вызове бот считает данные пользователя и проведет вычисления, описанные в предыдущем обзаце.